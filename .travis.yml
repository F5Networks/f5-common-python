sudo: false
language: python
python:
    - "2.7"
    - "2.6"
before_install:
    - git config --global user.email "OpenStack_TravisCI@f5.com"
    - git config --global user.name "Travis F5 Openstack"
    - git fetch --depth=100
install:
    - pip install hacking pytest pytest-cov
    - pip install git+ssh://git@github.com/F5Networks/f5-icontrol-rest-python
    - pip install -r requirements.txt
script:
    - flake8 .
    - py.test --cov --ignore=test/
notifications:
    slack:
      rooms:
        - f5openstackdev:$SLACK_TOKEN#f5-common-python
        - f5openstackdev:$SLACK_TOKEN#build-status
      on_success: change
      on_failure: always
